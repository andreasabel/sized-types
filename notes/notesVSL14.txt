2014-07-17

Notes on sized dependent types
(after discussing with Henning Basold at VSL 2014)

i,j âˆˆ SizeVar            Countable set of size variables
O = Î© + Ï‰                Initial set of ordinal numbers
Ïƒ âˆˆ SizeEnv
  = List (SizeVar Ã— O)   Size environment
Ïƒ' < Ïƒ;  Ïƒ' â‰¤ Ïƒ          List-lexicographic ordering

  []           â‰¤ []
  (Ïƒ', i â†¦ Î±)  R Ïƒ           if  Ïƒ' â‰¤ Ïƒ
  (Ïƒ', i â†¦ Î±') R (Ïƒ, i â†¦ Î±)  if  Ïƒ' â‰¤ Ïƒ  and  Î±' R Î±
                             of  Ïƒ' < Ïƒ

  Ïƒ,iâ†¦Î±â‚,Ïƒâ‚ <â± Ïƒ,iâ†¦Î±â‚‚,Ïƒâ‚‚       if  Î±â‚ < Î±â‚‚

A,B,F,a,b,c,d,e,f âˆˆ D    Partial applicative structure
Fun, Set, Î¼, in âˆˆ D      Constants
SizeVar âŠ† D

ð“,ð“‘ âˆˆ TY = ð“Ÿ(D)             Semantic type
Î  : (ð“ âˆˆ TY) Ã— Fam(ð“) â†’ TY  Semantic function type

  Î  ð“ ð“• = { f âˆˆ D | âˆ€ a âˆˆ ð“, f a âˆˆ ð“•(a) }

SET  : SizeEnv â†’ TY    Semantical universe of small types
Ïƒ[_] : SET Ïƒ] â†’ TY     Extension

  * outer recursion on Ïƒ
  * then, SET(Ïƒ) and Ïƒ[_] defined inductive-recursively

  Fun A F âˆˆ SET Ïƒ
    if  A âˆˆ SET Ïƒ
    and âˆ€ Ïƒ' â‰¤ Ïƒ, a âˆˆ Ïƒ'[A].  F a âˆˆ SET Ïƒ'

  Ïƒ[Fun A F] = â‹‚ Ïƒ' â‰¤ Ïƒ. Î  Ïƒ'[A] Ïƒ'[F]  where  Ïƒ'[F](a âˆˆ Ïƒ'[A]) = Ïƒ'[F a]

  Î¼â± F âˆˆ SET Ïƒ
    if âˆ€ Ïƒ' <â± Ïƒ.  F (Î¼â± F) âˆˆ SET Ïƒ'

  Ïƒ[Î¼â± F] = â‹ƒ Ïƒ' <â± Ïƒ.  Ïƒ'[F (Î¼â± F)]

-- NOT TRUE:
-- Thm (Monotonicity)  Let Ïƒ' â‰¤ Ïƒ
--   If  A âˆˆ SET Ïƒ'  then  A âˆˆ SET Ïƒ  and  Ïƒ'[A] âŠ† Ïƒ[A].

